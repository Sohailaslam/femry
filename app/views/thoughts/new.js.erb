$('#thoughts<%= @thought.thought_date %>').prepend('<%= escape_javascript(render(:partial => "todos/thought", :locals => {key: @thought.thought_date, thought: @thought }))%>');

if ($('#sortable<%= @thought.thought_date %>').children('li:visible').length == 0 && $('#thoughts<%= @thought.thought_date %>').children('li:visible').length == 1) {
  $('#thoughts<%= @thought.thought_date %>').children('li:visible').last().css('border-top', 'none')
}

initialize_ckeditor();
$('#myeditor_<%=@thought.thought_date%>').focus()